(()=>{"use strict";function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"on";"on"===e?jQuery("."+t+"-loader").removeClass("d-none"):jQuery("."+t+"-loader").addClass("d-none")}function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=i;function i(t,e){var n=s();return(i=function(t,e){return n[t-=249]})(t,e)}function s(){var t=["opts","minutes","display","getElementsByClassName","rotor-top","7njGWct","1221VGmLJS","div","appendChild","120CGjxgw","rotorBottoms","_getTime","_hasCountdownEnded","daysremaining","now","hideDivision","assign","hours","54350hvBDUb","_parseOptions","rotors","call","className","rotorBottom","add","rotor-leaf","rotor-leaf-rear","figure","parentElement","headings","rotor-group ","rotor-top rotor-painter","ifEnded","getTime","rotorLeafFront","dark","theme","3668752uhTRAu","length","rotorTop","rotors-wrapper","flipdown__theme-","rotorGroupMapping",".rotor-group","rotor-leaf-front","_createRotor","120405UWKGKj",".rotor-group-days","Hours","find","days","start","bind","textContent","floor","_tick","toString","destroy","3004338gceJwA","_init","push"," instead.","seconds","Minutes","rotor-leaf-front rotor-painter","prevClockValuesAsString","hasOwnProperty","span","933291iVwumz","slice","rotorTops","clockValuesAsString","forEach","rotor-bottom",".rotor-group-hours","flipped","130802CxWANw","4rFvABO","rotor-bottom rotor-painter","clockStrings","data-before","clockValues","element","initialised","daysRemaining","css","version","createElement","rotor-leaf-rear rotor-painter","countdown",".rotor-group-minutes","flipdown","1526115vkkYrd","prototype","0.3.2","none","countdownEnded","epoch","_createRotorGroup","classList","rotor-group-heading","_setOptions","Days","number","hasEndedCallback","rotorLeafRear","_updateClockValues"];return(s=function(){return t})()}function a(t,e){var n=o;return(t=t[n(300)]())[n(282)]<e?a("0"+t,e):t}function l(t,e){var n=o;e[n(316)]((function(e){t[n(252)](e)}))}!function(t,e){for(var n=i,r=t();;)try{if(427816==-parseInt(n(321))/1*(parseInt(n(320))/2)+parseInt(n(336))/3+-parseInt(n(253))/4*(-parseInt(n(290))/5)+-parseInt(n(302))/6+-parseInt(n(249))/7*(-parseInt(n(281))/8)+parseInt(n(312))/9+parseInt(n(262))/10*(-parseInt(n(250))/11))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(s);const c=function(t,i,s,c,u,h,d,f,p,m,g){function v(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o(335),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(this,v);var s=o;if(e(t)!==s(347))throw new Error("FlipDown: Constructor expected unix timestamp, got "+e(t)+s(305));"object"===e(r)&&(this[s(326)]=r[0],this[s(330)]=s(338),this.initialised=!1,this[s(258)]=this[s(255)](),this[s(341)]=t,this.countdownEnded=!1,this[s(348)]=null,this[s(264)]=[],this.rotorLeafFront=[],this[s(349)]=[],this[s(314)]=[],this[s(254)]=[],this[s(333)]=null,this[s(328)]=0,this.clockValues={},this[s(323)]={},this[s(315)]=[],this.prevClockValuesAsString=[],this[s(351)]=this[s(263)](i),this[s(286)]={0:s(294),1:s(261),2:s(352),3:s(306)},this[s(345)]())}var y,b;return y=v,b=[{key:t,value:function(t){var e=o;return this[e(327)]||this[e(303)](),this[e(333)]=setInterval(this[e(299)].bind(this),1e3),t(),this}},{key:i,value:function(t){var e=o;return this[e(348)]=function(){var n=e;t(),this[n(348)]=null,this[n(301)]()},this}},{key:s,value:function(){var t=o;return(new Date)[t(277)]()/1e3}},{key:"_hasCountdownEnded",value:function(){var t=o;return this.epoch-this[t(258)]<0?(this[t(340)]=!0,null!=this[t(348)]&&(this.hasEndedCallback(),this[t(348)]=null),!0):(this[t(340)]=!1,!1)}},{key:c,value:function(t){var e=o,n={headings:[e(346),e(292),e(307),"Seconds"],theme:t[e(310)](e(280))?t[e(280)]:e(279),hideDivision:!1};return Object[e(260)]({},n,t)}},{key:u,value:function(){var t=o;this[t(326)][t(343)][t(268)](t(285)+this[t(351)][t(280)])}},{key:h,value:function(){var t=o;this[t(327)]=!0,this._hasCountdownEnded()?this[t(257)]=0:this.daysremaining=Math[t(298)]((this[t(341)]-this[t(258)])/86400)[t(300)]()[t(282)];for(var e=this.daysremaining<=2?2:this.daysremaining,n=0;n<e+6;n++)this[t(264)].push(this[t(289)](0));var r=[];for(n=0;n<e;n++)r[t(304)](this.rotors[n]);this[t(326)][t(252)](this._createRotorGroup(r,0));var i=e;for(n=0;n<3;n++){for(var s=[],a=0;a<2;a++)s[t(304)](this[t(264)][i]),i++;this[t(326)].appendChild(this[t(342)](s,n+1))}return jQuery(this.element).find(t(287)).css(t(353),"flex"),this[t(278)]=Array[t(337)][t(313)].call(this[t(326)][t(354)](t(288))),this.rotorLeafRear=Array[t(337)].slice[t(265)](this[t(326)][t(354)](t(270))),this[t(283)]=Array[t(337)].slice[t(265)](this.element[t(354)](t(355))),this[t(267)]=Array[t(337)].slice[t(265)](this[t(326)][t(354)](t(317))),this._tick(),this[t(350)](!0),this}},{key:d,value:function(t,e){var n=o,r=document.createElement("div");r[n(266)]=n(274)+(this[n(286)][e]?"rotor-group-"+this[n(286)][e]:"");var i=document[n(331)](n(251));i[n(266)]=n(344),i.setAttribute(n(324),this[n(351)][n(273)][e]);var s=document[n(331)](n(311));s[n(297)]=this[n(351)].headings[e],i[n(252)](s),r.appendChild(i);var a=document[n(331)](n(251));return a[n(266)]=n(284),l(a,t),r[n(252)](a),r}},{key:f,value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=o,n=document[e(331)](e(251)),r=document[e(331)](e(251)),i=document[e(331)](e(271)),s=document[e(331)](e(271)),a=document.createElement(e(251)),c=document.createElement(e(251));return n[e(266)]="rotor",r[e(266)]=e(269),i[e(266)]=e(332),s[e(266)]=e(308),a.className=e(275),c[e(266)]=e(322),i[e(297)]=t,a[e(297)]=t,c[e(297)]=t,l(n,[r,a,c]),l(r,[i,s]),n}},{key:p,value:function(){var t=o;this[t(258)]=this[t(255)]();var e=this[t(341)]-this[t(258)]<=0?0:this[t(341)]-this[t(258)];this.clockValues.d=Math.floor(e/86400),e-=86400*this[t(325)].d,0===this.clockValues.d&&this.opts[t(259)]&&jQuery(this[t(326)])[t(293)](t(291))[t(329)](t(353),t(339)),this[t(325)].h=Math[t(298)](e/3600),e-=3600*this[t(325)].h,0===this[t(325)].h&&0===this[t(325)].d&&this[t(351)][t(259)]&&jQuery(this[t(326)])[t(293)](t(318))[t(329)](t(353),t(339)),this[t(325)].m=Math[t(298)](e/60),e-=60*this[t(325)].m,0===this[t(325)].m&&0===this.clockValues.h&&0===this[t(325)].d&&this[t(351)][t(259)]&&jQuery(this[t(326)])[t(293)](t(334)).css("display",t(339)),this[t(325)].s=Math.floor(e),this[t(350)](),this[t(256)]()}},{key:m,value:function(){clearInterval(this[o(333)])}},{key:g,value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=o;function r(){var t=this,e=n;this[e(283)][e(316)]((function(n,r){n[e(297)]!=t.clockValuesAsString[r]&&(n.textContent=t.clockValuesAsString[r])}))}function i(){var t=this,e=n;this[e(349)].forEach((function(n,r){var o=e;if(n[o(297)]!=t[o(315)][r]){n[o(297)]=t[o(315)][r],n[o(272)].classList[o(268)](o(319));var i=setInterval(function(){var t=o;n[t(272)][t(343)].remove(t(319)),clearInterval(i)}[o(296)](t),500)}}))}this[n(323)].d=a(this.clockValues.d,2),this[n(323)].h=a(this[n(325)].h,2),this[n(323)].m=a(this[n(325)].m,2),this[n(323)].s=a(this.clockValues.s,2),this.clockValuesAsString=(this[n(323)].d+this[n(323)].h+this[n(323)].m+this.clockStrings.s).split(""),this.rotorLeafFront.forEach((function(e,r){var o=n;e[o(297)]=t[o(309)][r]})),this[n(267)][n(316)]((function(e,r){e[n(297)]=t.prevClockValuesAsString[r]})),e?(r.call(this),i[n(265)](this)):(setTimeout(r[n(296)](this),500),setTimeout(i.bind(this),500)),this[n(309)]=this.clockValuesAsString}}],b&&r(y.prototype,b),Object.defineProperty(y,"prototype",{writable:!1}),v}(o(295),o(276),o(255),o(263),o(345),o(303),o(342),o(289),o(299),o(301),o(350));function u(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e3,s=jQuery.parseHTML(e);r?n.append(s):n.prepend(s),o&&setTimeout((function(){n.find("."+t+"-notice").remove()}),i)}!function(e){var n=gpls_wpsctr_simple_countdown_timer_localized_data,r="."+n.classes_prefix,o=e(r+"-flipdown");function i(t,o){var i=e(r+"-countdown-timer-container"),s=e(r+"-countdown-timer-shortcode"),a=e("#"+n.prefix+"-countdown-styles-css").get(0).sheet;if(i.find(r+"-flipper").removeClass((function(t,e){return(e.match(/\bflipdown-size-\S+/g)||[]).join(" ")})),"segment_width"===t)i.find(".rotor").css({width:o+"px",minWidth:"auto",maxWidth:"auto"}),i.find(".rotor-group").css({width:"auto"}),s.find(".shortcode-segment-width").text(o);else if("segment_height"===t){i.find(".rotor, .rotor-leaf").css({height:o+"px"});var l=Math.floor(o/2);i.find(".rotor-leaf-rear, .rotor-leaf-front, .rotor-top, .rotor-bottom").css({height:l+"px"}),a.insertRule(r+"-countdown-timer-container .rotor:after { height: "+l+"px !important; }",a.cssRules.length),i.find(".rotor-leaf-front, .rotor-top").css({lineHeight:o+"px"}),s.find(".shortcode-segment-height").text(o)}else"segment_fontsize"===t?(i.find(".rotor").css({fontSize:o+"px"}),s.find(".shortcode-segment-fontsize").text(o)):"titles_fontsize"===t&&(i.find(".rotor-group-heading").css({fontSize:o+"px"}),s.find(".shortcode-titles-fontsize").text(o))}e((function(s){var a,l;e(r+"-color-input").each((function(){var t=e(this);t.wpColorPicker({change:function(t,r){var o=e(t.target),i=o.val(),s=o.data("target"),a=o.data("handle"),l=o.data("css"),c=".rotor-group-"+s,u=e("#"+n.prefix+"-countdown-styles-css").get(0).sheet;"rotor-group-heading"===a?u.insertRule(c+" .rotor-group-heading span { "+l+": "+i+" !important; }",u.cssRules.length):"rotor-divider"===a?u.insertRule(c+" .rotor:after { "+l+": "+i+" !important; }",u.cssRules.length):(u.insertRule(c+" ."+a+" { "+l+": "+i+" !important; }",u.cssRules.length),u.insertRule(c+" ."+a+" .rotor-painter { "+l+": "+i+" !important; }",u.cssRules.length))},clear:function(){var r=t,o=r.data("target"),i=r.data("handle"),s=r.data("css"),a=".rotor-group-"+o,l=e("#"+n.prefix+"-countdown-styles-css").get(0).sheet;"rotor-group-heading"===i?l.insertRule(a+" .rotor-group-heading span { "+s+": #000 !important; }",l.cssRules.length):"rotor-divider"===i?l.insertRule(a+" .rotor:after { "+s+": #000 !important; }",l.cssRules.length):(l.insertRule(a+" ."+i+" { "+s+": #000 !important; }",l.cssRules.length),l.insertRule(a+" ."+i+" .rotor-painter { "+s+": "+{color:"#FFF",background:"#000"}[s]+" !important; }",l.cssRules.length))}})})),e(r+"-timer-form-submit-bg").wpColorPicker(),a=o.data("datetime"),l={headings:Object.values(n.labels.flipDownHeading)},new c(a,o,l).start((function(){})).ifEnded((function(){})),e(r+"-timer-interval, #timer_timezone").on("change",(function(i,s){var a,l,h=e(r+"-timer-interval"),d=e("#timer_timezone");a=h.val(),l=d.val(),t(n.classes_prefix,"on"),e.ajax({method:"POST",url:n.ajaxUrl,data:{action:n.timerTimerStampAction,nonce:n.nonce,arrivalTime:a,timezone:l},success:function(t){var r,i,s;null!=t&&null!==(r=t.data)&&void 0!==r&&r.status&&"success"===t.data.status&&null!=t&&null!==(i=t.data)&&void 0!==i&&i.result&&function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||t.data("datetime"),r={headings:Object.values(n.labels.flipDownHeading)};t.empty(),new c(e,t,r).start((function(){t.show()})).ifEnded((function(){})),t.addClass("started")}(o,t.data.result.timestamp),null!=t&&null!==(s=t.data)&&void 0!==s&&s.message&&u(n.classes_general,t.data.message,e(".tab-section-interval"),!0,!0,3e3)},error:function(t){},complete:function(){t(n.classes_prefix,"off")}}),s||e(r+"-timer-interval-reset-btn").removeClass("d-none")})),e(r+"-timer-interval-reset-btn").on("click",(function(t){t.preventDefault();var n=e(t.target);n.addClass("d-none");var o=n.data("val");e(r+"-timer-interval").val(o).trigger("change",["custom"])})),e(document).on("click",r+"-export-emails-list",(function(t){var r=e(t.target),o=jQuery("#"+n.classes_prefix+"-timer-subscriptions .email-item").not(".hidden").find(".email-name").map((function(){return e.trim(e(this).text())})).get().join("\r\n");return o+="\r\n",o="data:text/csv;charset=utf-8,\ufeff"+encodeURIComponent(o),r.attr("href",o),!0})),e(document).on("click",r+"-clear-emails-list",(function(t){t.preventDefault();var r=e(t.target);if(confirm(n.labels.clearListConfirm)){var o=r.data("post_id");e(".emails-list-action").attr("disabled",!0),e.ajax({method:"POST",url:n.ajaxUrl,data:{action:n.clearSubscriptionsAction,nonce:n.nonce,post_id:o},success:function(t){var r,o;null!=t&&null!==(r=t.data)&&void 0!==r&&r.status&&"success"===t.data.status&&(jQuery("#"+n.classes_prefix+"-timer-subscriptions .emails-list").remove(),jQuery(".emails-list-action").remove()),null!=t&&null!==(o=t.data)&&void 0!==o&&o.message&&u(n.classes_general,t.data.message,e(".subscribe-form-emails"),!0,!0,3e3)},error:function(t){},complete:function(){e(".emails-list-action").attr("disabled",!1)}})}})),e(r+"-segment-width").on("change",(function(t){i("segment_width",e(r+"-segment-width").val())})),e(r+"-segment-height").on("change",(function(t){i("segment_height",e(r+"-segment-height").val())})),e(r+"-segment-fontsize").on("change",(function(t){i("segment_fontsize",e(r+"-segment-fontsize").val())})),e(r+"-titles-fontsize").on("change",(function(t){i("titles_fontsize",e(r+"-titles-fontsize").val())})),new bootstrap.Popover(jQuery('[data-bs-toggle="popover"]')),jQuery(document).on("click",".gpls-general-clipboard-icon-btn",(function(t){t.preventDefault();var e=jQuery(this),n=e.data("target"),r=jQuery(n).text();navigator.clipboard.writeText(r),setTimeout((function(){bootstrap.Popover.getOrCreateInstance(e).hide()}),1e3)}))}))}(jQuery)})();